<html>
	<head>
		<title>妹妹周期</title>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<script type="text/javascript">
		
			function getDays(smallDate, bigDate){
				var seconds = Math.floor((bigDate.getTime() - smallDate.getTime()) / 1000);
				var minutes = Math.floor(seconds / 60);
				var hours = Math.floor(minutes / 60);
				var days = Math.floor(hours / 24);
				return days;
			}
		
			var date = new Array(
					"2015-03-21",
					"2015-04-22",
					"2015-05-19",
					"2015-06-16",
					"2015-07-13",
					"2015-08-10",
					"2015-09-08",
					"2015-10-07",
					"2015-11-02",
					"2015-11-30",
					"2015-12-29",
					"2016-01-26",
					"2016-02-26",
					"2016-03-25",
					"2016-04-19",
					"2016-05-15",
					"2016-06-10",
					"2016-07-08",
					"2016-08-05",
					"2016-09-02",
					"2016-10-01",
					"2016-10-28",
					"2016-11-23",
					"2016-12-19"
					);
			
			var str = "";
			
			window.onload = function(){
				for(var i=0; i<date.length-1; i++){
					var days = getDays(new Date(date[i]), new Date(date[i+1]));
					var width = days*20;
					str += '<div><div>'+date[i]+'</div><div class="date" style="width:'+width+'px;">'+days+'</div></div><div class="last"></div>';
				}
				var lastDay = new Date(date[date.length-1]);
				var maybe = new Date(lastDay.getTime()+(1000*60*60*24*28));
				var nextDay = (maybe.getMonth()+1)+"月"+maybe.getDate();
				str += '<div><div>'+date[date.length-1]+'</div><div class="date" style="width:'+560+'px;">'+28+'</div><div>&nbsp;&nbsp;下次预计是'+nextDay+'</div></div><div class="last"></div>';
				document.getElementById("aa").innerHTML = str;
			}
			

		</script>
		<style type="text/css">
			.date{
				height:20px;
				text-align:right;
				background-color:#aaa;
			}
			#aa div{
				margin-top:5px;
			}
			#aa div{
				float: left;
			}
			.last{
				clear:both;
			}
		</style>
	</head>
	<body>
	<!-- 
			<div><div>2011-02-19</div><div class="date" style="width:600px;">28</div><div>2011-03-19</div></div><div class="last"></div>
			<div><div>2011-03-19</div><div class="date" style="width:580px;">27</div><div>2011-04-16</div></div><div class="last"></div>
	 -->
		<div id="aa">
		</div>
	
	</body>
</html>
